/*!
 *
 * @name    : tracking.js
 * @content : tracking
 * @creation: 2020.11.03
 * @update  : 2020.11.03
 * @version : 1.1.0
 *
 * @license Copyright (C) 2020 Taichi Matsutaka
 *
 */
!function(t){t.tracking=function(t,e){this.targetElements=Array.prototype.slice.call(document.querySelectorAll(t),0);const i={type:"hover",currentClass:"is-current",childrenSelector:null,direction:"vertical",targetStyle:!0,trackingStyle:!0,resize:!0};for(let t in e)i[t]=e[t];this.options=i,this.removes=[],this.base()},tracking.prototype={base:function(){const t=this,e=this.options;this.targetElements.forEach((function(i){const s=i.querySelectorAll(e.childrenSelector),n=document.createElement("span");n.classList.add("js-tracking"),n.classList.add("is-initial"),i.appendChild(n),!0===e.trackingStyle&&(n.style.position="absolute",n.style.display="block"),!0===e.targetStyle&&(i.style.position="relative");let l=i.querySelector(e.currentClass);if(l||(l=s[0],l.classList.add(e.currentClass)),t.addStyle(l,i,n),"hover"===e.type)for(let e=0;e<s.length;e++)s[e].addEventListener("mouseenter",(function(){n.classList.remove("is-initial"),n.classList.add("is-move"),t.addStyle(this,i,n)})),s[e].addEventListener("mouseleave",(function(){n.classList.add("is-initial"),n.classList.remove("is-move"),t.currentInit(i,n)}));else if("click"===e.type)for(let l=0;l<s.length;l++)s[l].addEventListener("click",(function(){this.classList.contains(e.currentClass)?(n.classList.add("is-initial"),n.classList.remove("is-move"),t.currentInit(i,n)):(n.classList.remove("is-initial"),n.classList.add("is-move"),t.addStyle(this,i,n))}));if(!0===e.resize){const e=function(){t.currentInit(i,n)};window.addEventListener("resize",e),t.removes.push((function(){window.removeEventListener("resize",e)}))}}))},currentInit:function(t,e){const i=this.options,s=t.querySelector("."+i.currentClass);this.addStyle(s,t,e)},addStyle:function(t,e,i){const s=t.clientWidth,n=t.clientHeight,l=e.getBoundingClientRect().top,o=e.getBoundingClientRect().left,r=t.getBoundingClientRect().top,c=t.getBoundingClientRect().left;i.style.width=s+"px",i.style.height=n+"px",i.style.top=r-l+"px",i.style.left=c-o+"px"},remove:function(){const t=this.removes;if(t)for(let e=0;e<t.length;e++)t[e]()}}}(this);